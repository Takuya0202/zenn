---
title: "next-intlã§å¤šè¨€èªå¯¾å¿œã™ã‚‹ã€‚"
emoji: "ğŸˆ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["nextjs","ts","nextintl"]
published: true
---
# ç›®çš„
next.jsã§å¤šè¨€èªå¯¾å¿œã‚’å®Ÿè£…ã™ã‚‹ã€‚App Routerã§ã®å®Ÿè£…ã§ã™ã€‚
ã‚„ã‚ŠãŸã„ã“ã¨ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚
1. æ—¥æœ¬èªã€ä¸­å›½èªã€éŸ“å›½èªã€è‹±èªã«å¯¾å¿œã™ã‚‹ã€‚
2. ä¸€åº¦è¨­å®šã—ãŸè¨€èªã‚’cookieã«ä¿å­˜ã—ã¦ã€å†åº¦ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã‚‚ãã®è¨€èªãŒè¡¨ç¤ºã•ã‚Œã‚‹ã€‚

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ
```
next-app/
â”œâ”€â”€ messages/                          # ç¿»è¨³ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ en-US.json                     
â”‚   â”œâ”€â”€ ja-JP.json                    
â”‚   â”œâ”€â”€ ko-KR.json                     
â”‚   â”œâ”€â”€ zh-CN.json                     
â”‚   â””â”€â”€ zh-TW.json                     
â”œâ”€â”€ next.config.ts                     
â”œâ”€â”€ middleware.ts                      # ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å‡¦ç†
â”œâ”€â”€ i18n/                               
â”‚   â”œâ”€â”€ routing.ts                     # ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¨­å®š
â”‚   â””â”€â”€ request.ts                     # ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¯¾ã—ã¦ã®å‡¦ç†
â””â”€â”€ app/
    â””â”€â”€ [lang]/                        # å‹•çš„ãƒ«ãƒ¼ãƒˆ ã“ã“ã«ã¯`en-US/ja-JP`ãªã©ãŒå…¥ã‚‹
        â”œâ”€â”€ layout.tsx                              
        â”œâ”€â”€ auth/
        â”‚   â”œâ”€â”€ login/
        â”‚   â”‚   â””â”€â”€ page.tsx
        â”‚   â””â”€â”€ register/
        â”‚       â””â”€â”€ page.tsx
        â””â”€â”€ profile/
            â””â”€â”€ page.tsx
```
## ãã‚‚ãã‚‚ã©ã†ã‚„ã£ã¦ã‚„ã‚‹ã®ã‹
### æµã‚Œ(ã‚„ã‚ŠãŸã„ã“ã¨)
1. è¨€èªåˆ¥ã«è¡¨ç¤ºã™ã‚‹ãƒ†ã‚­ã‚¹ãƒˆã‚’`messages`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä¸­ã«jsonã§ä¿å­˜ã™ã‚‹
2. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ`en-US/profile`ã®ã‚ˆã†ã«è¨€èªã¤ãã§ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹
3. urlã®ãƒ‘ã‚¹ã‹ã‚‰è¨€èªã‚’å–å¾—ã—ã€`messages`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰`en-US.json`ã‚’å–å¾—ã™ã‚‹
4. å„ãƒšãƒ¼ã‚¸ã§jsonãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã€è¡¨ç¤ºã™ã‚‹ã€‚

### å…·ä½“çš„ãªæµã‚Œ(å®Ÿéš›ã«ã©ã†ã‚„ã£ã¦ã„ãã‹)
1. `i18n/routing.ts`ã§ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¨­å®šã‚’è¨˜è¼‰ã™ã‚‹ã€‚å¯¾å¿œè¨€èªã‚„ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨€èªãªã©ã€‚
2. `middleware.ts`ã«ã¦`ja-JP/profile`ã€`en-US/profile`ã®ã‚ˆã†ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã›ã‚‹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’ã‹ã
3. `i18n/request.ts`ã«ã¦ã€urlã‹ã‚‰è¨€èªã‚’å–å¾—ã—ã€å¯¾å¿œã™ã‚‹jsonãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¨­å®š
4. `layout.tsx`ã§`getMessages()`ã‚’å‘¼ã³å‡ºã—ã€jsonãƒ•ã‚¡ã‚¤ãƒ«ã‚’å–å¾—ã™ã‚‹ã€‚
5. å¯¾å¿œã™ã‚‹å„ãƒšãƒ¼ã‚¸ã«ãŠã„ã¦ã€SSRã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã¯`await getTranslations()`ã‚’ä½¿ç”¨ã—ã€CSRã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã¯`useTranslations`ã‚’ä½¿ç”¨ã™ã‚‹

## å®Ÿè£…ä¾‹
### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
npm install next-intl
```

### è¨­å®š
#### ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å®šç¾©ã™ã‚‹
ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ ã‚’ä¾‹ã«å®Ÿè£…ã—ã¦ã„ãã¾ã™ã€‚
`messages/en-US.json`ã‚’ä½œæˆã—ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ä½œæˆ
```json:messages/en-US.json
{
  "login": {
    "email": "Email",
    "password": "Password",
    "emailPlaceholder": "Email",
    "passwordPlaceholder": "Password",
    "signIn": "Sign in",
    "signUp": "Sign up"
  },
  "register": {
    "userName": "User name",
    "email": "Email",
    "password": "Password",
    "confirmPassword": "Confirm password",
    "userNamePlaceholder": "User name",
    "emailPlaceholder": "Email",
    "passwordPlaceholder": "Password",
    "confirmPasswordPlaceholder": "Confirm password",
    "signUp": "Sign up",
    "signIn": "Sign in"
  }
}
```

#### next-configã®è¨­å®š
ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å‡¦ç†ã™ã‚‹`i18n/request.ts`ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½ç½®ã‚’è¨­å®šã—ã¾ã™ã€‚
`next.config.ts`ã®ä¸­ã«ä»¥ä¸‹ã®ã‚ˆã†ã«è¿½è¨˜
```ts:next.config.ts
import type { NextConfig } from "next";
import createNextIntlPlugin from "next-intl/plugin";

const nextConfig: NextConfig = {
  /* config options here */
};

const withNextIntl = createNextIntlPlugin(
  './i18n/request.ts' // ãƒ‘ã‚¹ã‚’æŒ‡å®š
);

export default withNextIntl(nextConfig);
```

### i18nã‚’å®šç¾©ã™ã‚‹
#### ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’å®šç¾©
`i18n/routing.ts`ã«ä»¥ä¸‹ã®å†…å®¹ã‚’ä½œæˆã€‚
```ts:i18n/routing.ts
import { createNavigation } from "next-intl/navigation";
import { defineRouting } from "next-intl/routing";

export const routing = defineRouting({
  locales: ["en-US", "ko-KR", "zh-CN", "zh-TW", "ja-JP"], // ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã«å¯¾å¿œã™ã‚‹è¨€èª
  defaultLocale: "en-US",
  localePrefix: "always",
  localeCookie: {
    name: "locale",
    sameSite: "lax",
    path: "/",
    maxAge: 60 * 60 * 24 * 30,
    secure: process.env.NODE_ENV === "production",
  },
});

// nextè£½ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã‚„ã‚ã¦ã€next-intlè£½ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã€‚
export const { Link, redirect, usePathname, useRouter } = createNavigation(routing);
```
ã“ã“ã§ã¯å¯¾å¿œã™ã‚‹è¨€èªã‚„ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨€èªãªã©ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã«ã¤ã„ã¦è¨­å®šã—ã¾ã™ã€‚
`localeCookie`ã§cookieã‚’è¨­å®šã™ã‚‹ã“ã¨ã§ã€æœ€å¾Œã«ã‚¢ã‚¯ã‚»ã‚¹ã•ã‚ŒãŸè¨€èªã‚’è‡ªå‹•çš„ã«cookieã«ä¿å­˜ã—ã¦ãã‚Œã¾ã™ã€‚
`localePrefix : always`ã«ã™ã‚‹ã“ã¨ã§å…¨ã¦ã®ãƒšãƒ¼ã‚¸ã§`[lang]`ã‚’æœ‰åŠ¹ã«ã—ã¾ã™ã€‚
ã¾ãŸã€ä¸‹ã®è¡Œã§ã¯`Link`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãªã©ç”»é¢é·ç§»ã«é–¢ã‚ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç”Ÿæˆã—ã¦ãŠã‚Šã€
ã“ã‚Œã«ã‚ˆã‚Š`locale`ã‚’è‡ªå‹•çš„ã«ä¿æŒã—ã¦ãã‚Œã¾ã™

ä¾‹ï¼š
```ts
// Next.jsã®redirect
import { redirect } from 'next/navigation';
redirect('/profile');
// â†’ /profile ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ

// âœ… next-intlã®redirect
import { redirect } from '@/i18n/routing';
redirect('/profile');
// ç¾åœ¨ã®ãƒ­ã‚±ãƒ¼ãƒ«ãŒ en-US ã®å ´åˆ
// /en-US/profile ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ
```
ãã®ä»–ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã«é–¢ã—ã¦ã¯ä»¥ä¸‹ã‚’å‚ç…§
https://next-intl.dev/docs/routing/configuration


#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å®šç¾©
å®Ÿéš›ã«`[lang]`ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«ä¸ãˆã‚‰ã‚ŒãŸè¨€èªã‹ã‚‰å¯¾å¿œã™ã‚‹jsonãƒ•ã‚¡ã‚¤ãƒ«ã‚’å–å¾—ã™ã‚‹å‡¦ç†ã‚’æ›¸ãã¾ã™ã€‚
`i18n/request.ts`ã«ä»¥ä¸‹ã®å†…å®¹ã‚’ä½œæˆ
```ts:i18n/request.ts
import { getRequestConfig } from "next-intl/server";
import { hasLocale } from "next-intl";
import { routing } from "./routing";

export default getRequestConfig(async ({ requestLocale }) => {
  // en-USãªã©ã®[lang]éƒ¨åˆ†ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ãŒå…¥ã‚‹
  const requested = await requestLocale;
  // ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹è¨€èªã‹ãƒã‚§ãƒƒã‚¯ã—ã€æœªå¯¾å¿œã®å ´åˆã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨€èªã‚’ä½¿ç”¨
  const locale = hasLocale(routing.locales, requested) ? requested : routing.defaultLocale;

  return {
    locale,
    messages: (await import(`../messages/${locale}.json`)).default, // messageã¸ã®ãƒ‘ã‚¹
  };
});
```

### ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã®è¨­å®š
æ¬¡ã«ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã®è¨­å®šã‚’ã—ã¾ã™ã€‚
ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã§ã¯è¨€èªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ãŒæœªå…¥åŠ›ã®æ™‚ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚„
å­˜åœ¨ã—ãªã„è¨€èªãŒå…¥åŠ›ã•ã‚ŒãŸã¨ãã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’æ‹…å½“ã—ã¾ã™ã€‚
#### supabaseã¨åŒæ™‚ã«æ‰±ã†å ´åˆã€‚
ä»Šå›ã®ä¾‹ã§ã¯`supabase`ã®ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚‚åŒæ™‚ã«æ‰±ã„ã¾ã™ã€‚
`supabase`ã®ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã§ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæœªèªè¨¼ã®å ´åˆã¯ç‰¹å®šã®ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„ã‚ˆã†ã«ã™ã‚‹ã‚‚ã®ã§ã™ã€‚
ãªã®ã§ä»¥ä¸‹ã®ã‚ˆã†ãªé †ç•ªã§å‡¦ç†ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚

1. supabaseã®èªè¨¼ãƒã‚§ãƒƒã‚¯
2. supabaseã®èªè¨¼ã«å¼•ã£ã‹ã‹ã‚‹å ´åˆã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¨­å®šã•ã‚Œã¦ã„ã‚‹è¨€èªã‚’cookieã‹ã‚‰å–å¾—ã—ã¦ã€å¯¾å¿œã™ã‚‹è¨€èªã®ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ã«ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã€‚
3. supabaseã®èªè¨¼ã«å•é¡Œãªã‹ã£ãŸå ´åˆã€next-intlã®ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚’é©å¿œ

ä»¥ä¸‹ã®å†…å®¹ã‚’è¿½åŠ ã—ã¾ã™
```ts:utils/supabase/middleware.ts
import { routing } from "@/i18n/routing";
import { createServerClient } from "@supabase/ssr";
import { NextResponse, type NextRequest } from "next/server";

export async function updateSession(request: NextRequest) {
  let supabaseResponse = NextResponse.next({
    request,
  });

  const supabase = createServerClient(
    process.env.NEXT_PUBLIC_SUPABASE_URL!,
    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,
    {
      cookies: {
        getAll() {
          return request.cookies.getAll();
        },
        setAll(cookiesToSet) {
          cookiesToSet.forEach(({ name, value }) => request.cookies.set(name, value));
          supabaseResponse = NextResponse.next({
            request,
          });
          cookiesToSet.forEach(({ name, value, options }) =>
            supabaseResponse.cookies.set(name, value, options)
          );
        },
      },
    }
  );

  // Do not run code between createServerClient and
  // supabase.auth.getUser(). A simple mistake could make it very hard to debug
  // issues with users being randomly logged out.

  // IMPORTANT: DO NOT REMOVE auth.getUser()

  const {
    data: { user },
  } = await supabase.auth.getUser();

  const pathName = request.nextUrl.pathname;

  // cookieã‹ã‚‰localeå–å¾—ã—ã¦ã€authFailedUrlã«è¨­å®š
  const cookie = request.cookies.get("locale");
  const locale = cookie?.value ?? routing.defaultLocale;
  const authFailedUrl = `/${locale}/auth/login`;
  if (pathName.includes("/profile") && !user) {
    return NextResponse.redirect(new URL(authFailedUrl, request.url));
  }

  // IMPORTANT: You *must* return the supabaseResponse object as it is.
  // If you're creating a new response object with NextResponse.next() make sure to:
  // 1. Pass the request in it, like so:
  //    const myNewResponse = NextResponse.next({ request })
  // 2. Copy over the cookies, like so:
  //    myNewResponse.cookies.setAll(supabaseResponse.cookies.getAll())
  // 3. Change the myNewResponse object to fit your needs, but avoid changing
  //    the cookies!
  // 4. Finally:
  //    return myNewResponse
  // If this is not done, you may be causing the browser and server to go out
  // of sync and terminate the user's session prematurely!

  return supabaseResponse;
}
```
æ¬¡ã«ä»¥ä¸‹ã®å†…å®¹ã‚’è¿½åŠ ã—ã¾ã™ã€‚
```ts:middleware.ts
import { type NextRequest } from "next/server";
import { updateSession } from "./utils/supabase/middleware";
import createMiddleware from "next-intl/middleware";
import { routing } from "./i18n/routing";

const intlMiddleware = createMiddleware(routing);
export async function middleware(request: NextRequest) {
  // supabaseã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’æ›´æ–°
  const supabaseResponse = await updateSession(request);

  // supabaseãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã§ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚ŒãŸå ´åˆã€ãã®ã¾ã¾è¿”å´ã•ã›ã‚‹
  if (supabaseResponse.headers.get("location")) {
    return supabaseResponse;
  }

  // next-intlãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚’é©ç”¨
  const intlResponse = intlMiddleware(request);

  // supabaseã§ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã•ã‚ŒãŸcookieã‚’intlResponseã«ã‚‚ã‚»ãƒƒãƒˆ
  supabaseResponse.cookies.getAll().forEach((cookie) => {
    intlResponse.cookies.set(cookie.name, cookie.value);
  });

  return intlResponse;
}

export const config = {
  matcher: [
    /*
     * Match all request paths except for the ones starting with:
     * - _next/static (static files)
     * - _next/image (image optimization files)
     * - favicon.ico (favicon file)
     * Feel free to modify this pattern to include more paths.
     */
    "/((?!_next/static|_next/image|favicon.ico|.*\\.(?:svg|png|jpg|jpeg|gif|webp)$).*)",
  ],
};
```
`createMiddleware()`ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªé †ç•ªã§ãƒ­ã‚±ãƒ¼ãƒ«ã§ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã—ã¦ã„ã¾ã™

1. urlã‹ã‚‰ã®ç›´è¨˜å…¥
2. cookieã‹ã‚‰ã®è¨­å®š
3. `accept-language`ãƒ˜ãƒƒãƒ€ãƒ¼
4. ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨€èª

> The locale is detected based on these priorities:
  A locale prefix is present in the pathname (e.g. ca.example.com/fr)
  A locale is stored in a cookie and is supported on the domain
  A locale that the domain supports is matched based on the accept-language header
  As a fallback, the defaultLocale of the domain is used

URLã«ãƒ­ã‚±ãƒ¼ãƒ«ãŒå­˜åœ¨ã—ãªã„å ´åˆã‚„ç„¡åŠ¹ãªãƒ­ã‚±ãƒ¼ãƒ«ãŒæ¤œå‡ºã•ã‚ŒãŸå ´åˆãªã©ã‚‚
ä¸Šè¨˜ã®åŸå‰‡ã«ã—ãŸãŒã£ã¦è‡ªå‹•çš„ã«å¯¾è±¡ã®ãƒ­ã‚±ãƒ¼ãƒ«ãŒURLã«å«ã¾ã‚Œã¾ã™ã€‚

#### supabaseãªã©ä½¿ã‚ãªã„å ´åˆã€‚
supabaseãªã©ä»–ã®ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã‚’ä½¿ç”¨ã—ãªã„å ´åˆã¯ä»¥ä¸‹ã®å†…å®¹ã§ã§ãã‚‹ã¨æ€ã„ã¾ã™ã€‚
```ts:middleware.ts
import createMiddleware from 'next-intl/middleware';
import {routing} from './i18n/routing';
 
export default createMiddleware(routing);
 
export const config = {
  // Match all pathnames except for
  // - â€¦ if they start with `/api`, `/trpc`, `/_next` or `/_vercel`
  // - â€¦ the ones containing a dot (e.g. `favicon.ico`)
  matcher: '/((?!api|trpc|_next|_vercel|.*\\..*).*)'
};
```
### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®è¨­å®š
æœ€å¾Œã«ãƒ«ãƒ¼ãƒˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã«ä»¥ä¸‹ã®å†…å®¹ã‚’è¿½è¨˜ã—ã¾ã™
```tsx:layout.tsx
import type { Metadata } from "next";
import "./globals.css";
import { hasLocale, NextIntlClientProvider } from "next-intl";
import { notFound } from "next/navigation";
import { routing } from "@/i18n/routing";
import { getMessages } from "next-intl/server";

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default async function RootLayout({
  children,
  params,
}: Readonly<{
  children: React.ReactNode;
  params: { lang: string };
}>) {
  const { lang } = await params;

  if (!hasLocale(routing.locales, lang)) {
    notFound();
  }

  // è¨€èªãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿
  const messages = await getMessages();
  return (
    <html lang={lang}>
      <body className="antialiased">
        <NextIntlClientProvider messages={messages}>
          {children}
        </NextIntlClientProvider>
      </body>
    </html>
  );
}
```
`hasLocale()`ã§å«ã¾ã‚ŒãŸè¨€èªãŒå¯¾å¿œã•ã‚Œã‚‹ã‹æ¤œçŸ¥ã—ã€ãªã‹ã£ãŸå ´åˆã€`404`ãƒšãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚
`getMessages()`ã§jsonãƒ•ã‚¡ã‚¤ãƒ«ã®å–å¾—ã‚’ã—ã¾ã™ã€‚
`NextIntlClientProvider`ã§å–å¾—ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¸¡ã™ã“ã¨ã§ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã‚‚åˆ©ç”¨å¯èƒ½ã«ã—ã¦ã„ã¾ã™ã€‚

## å‘¼ã³å‡ºã—ã¦ä½¿ã£ã¦ã¿ã‚‹
### ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã®å‘¼ã³å‡ºã—
```tsx
import { useTranslations } from "next-intl";
const t = useTranslations("register");
<InputLabel id="name" 
label={t("userName")} 
icon={<UserIcon />} 
placeholder={t("userNamePlaceholder")} />
```
`useTranslations("register")`ã§jsonãƒ•ã‚¡ã‚¤ãƒ«ã®ã©ã®æ§‹é€ ã‚’å‚ç…§ã™ã‚‹ã‹æ±ºã‚ã¦ã„ã¾ã™ã€‚
å‰æã¨ã—ã¦ã€å…¨ã¦ã®å¯¾å¿œã™ã‚‹è¨€èªãƒ•ã‚¡ã‚¤ãƒ«ã§å€¤ãŒå­˜åœ¨ã—ã¦ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

### ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã®å‘¼ã³å‡ºã—
```tsx
import { getTranslations } from "next-intl/server";
const t = await getTranslations("register");
<h1>{t("signUp")}</h1>
```
ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã¯`await`ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
åŸºæœ¬çš„ã«ä½¿ã„æ–¹ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨å¤‰ã‚ã‚‰ãªã„ã¨æ€ã„ã¾ã™ã€‚

### ç¾åœ¨ã®è¨€èªã‚’å–å¾—
```ts
import { useLocale } from "next-intl";
const locale = useLocale();
```

### ãƒšãƒ¼ã‚¸é·ç§»
```tsx
import { Link } from "@/i18n/routing";
<Link href="/auth/login" className="flex items-center">
  <p className="text-black ">{t("signIn")}</p>
</Link>
```
`i18n/routing`ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ãŸ`Link`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ã†ã“ã¨ã§
é€šå¸¸é€šã‚Šã«ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€‚
ç¾åœ¨ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ãƒ­ã‚±ãƒ¼ãƒ«ã®ã¾ã¾ãƒšãƒ¼ã‚¸é·ç§»ã—ã¦ãã‚Œã¾ã™

```tsx
<Link href="/auth/login" className="flex items-center" locale="ja-JP">
  <p className="text-black ">japanese</p>
</Link>
```
`locale`ã§æŒ‡å®šã™ã‚‹ã“ã¨ã§è¨€èªã‚’å¤‰ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

### ç¾åœ¨ã®ãƒ‘ã‚¹å–å¾—
```tsx
import { Link, usePathname } from "@/i18n/routing";
const path = usePathname();
```
LinkåŒæ§˜ã€i18nã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦ããŸ`usePathname()`ã‚’ä½¿ã†ã“ã¨ã§ç¾åœ¨ã®ãƒ­ã‚±ãƒ¼ãƒ«ã‚’å«ã‚ãªã„
urlã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

## çµ‚ã‚ã‚Š
ã“ã‚Œã«ã¦çµ‚ã‚ã‚Šã¾ã™ã€‚
ä»Šã®ã¾ã¾ã ã¨å¤§è¦æ¨¡ãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ãªã£ãŸå ´åˆã€jsonãƒ•ã‚¡ã‚¤ãƒ«ã®å–å¾—ã«æ™‚é–“ãŒã‹ã‹ã‚Šãã†ãªã®ã§å·¥å¤«ãŒã„ã‚Šãã†ã§ã™
ã‚ã¨ã€next16ã ã¨`middleware.ts => proxy.ts`ã«å¤‰æ›´ãŒã‚ã‚‹ã¿ãŸã„ã§ã™