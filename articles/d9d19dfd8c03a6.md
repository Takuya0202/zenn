---
title: "時間操作について理解を深める。"
emoji: "📑"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["react","javascript","typescript"]
published: false
---
## 初めに
jsのDate()オブジェクトについて
## Date()について
```ts
const d : Date = new Date();
console.log(d) // 出力； Sun Jul 20 2025 20:00:08 GMT+0900 (日本標準時)
```
Dateインスタンスを出力すると、`Sun Jul 20 2025 20:00:08 GMT+0900 (日本標準時)`のように表示されます。
これはローカルな環境での現在時刻を`dateString形式`で出力しているからです。

### どうやって取得しているのか
```ts
console.log(d.getTime()); // 出力　1753072877639
```
`getTime()`を使用すると、`UNIX時間`で現在時刻を取得できます。
`UNIX時間とは`1970年1月1日午前0時からの経過したミリ秒単位の数値を表します。
これにより、1日は`1000 * 60 * 60 * 24`と定義され、時間を算出します。

### Locale,UTC,ISOについて知る。
```ts
const d : Date = new Date("August 19, 1975 23:15:30");
console.log(d.toLocaleString()); // 出力：1975/8/19 23:15:30
console.log(d.toUTCString()); // 出力：Tue, 19 Aug 1975 14:15:30 GMT
console.log(d.toISOString()); //　出力；1975-08-19T14:15:30.000Z
```
`toLocaleString()`はDateオブジェクトの中身をローカルでの時間に変更します。
`toUTCString()`は世界標準時(GMT)での時間に変更します。
`toISOString()`は`ISO8601形式(YYYY-MM-DDTHH:mm:ss.sssZ)`に変更します。
ここでミリ秒の後の`Z`はタイムゾーンオフセットのことで`ZはUTC`を示します。
ここの日時形式は`"2011-10-10"`や`"2011-10-10T14:48:00"`、`"2011-10-10T14:48:00.000+09:00"`などいろんな形式に対応しています。

### Date()の引数について
```ts
new Date(); // 現在
new Date("August 19, 1975 23:15:30");
new Date("1995-12-17T03:24:00") // ISO8601形式。信頼性がある。
new Date(1995,11,17); // 内容：1995年12月17日　00:00:00
new Date(1995, 11, 17, 3, 24, 0) // 内容：1995年12月17日　03:24:00
new Date(628021800000) // UNIX時間
```
`Date()`のコンストラクタには引数が存在しない場合は現在時刻を返します。
`Date()`ではISO8601やdateStringのほかにも`new Date(year, monthIndex, day, hours, minutes, seconds, milliseconds)`のように数値で入力することができます。
`day`からは省略可能で既定値は`1`、以降の時間に関しては既定値`0`です。
また、`monthIndex`とあるように月は`0から11`までの値です

### 差分について考えてみる。
次に現在時刻と設定されている時刻との差について日付、時間、分の3つを考えてみる。
```ts
const date : number =  new Date("1995-12-17T03:24:00").getTime();
const now : number = new Date().getTime();
const diff : number = now - date;
const diffInDays : number =  Math.floor(diff / (24 * 60 * 60 * 1000));
const diffInHours : number = Math.floor((diff % (24 * 60 * 60 * 1000)) / (60 * 60 * 1000));
const diffInMinutes : number = Math.floor((diff % (60 * 60 * 1000)) / (60 * 1000));
```